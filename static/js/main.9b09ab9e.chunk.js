(window["webpackJsonppogoda-app"]=window["webpackJsonppogoda-app"]||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(3),r=a.n(s),o=(a(16),a(4)),l=a(5),i=a(9),u=a(6),m=a(10),d=(a(17),function(e){return c.a.createElement("div",null,c.a.createElement("div",{className:"menu"},c.a.createElement("div",{"data-toggle":"collapse","data-target":"#menu",className:"toggleMenu",onClick:function(){return e.onToggle()}},c.a.createElement("p",null,e.toggle?"Ukryj menu":"Poka\u017c opcje prognozy")),c.a.createElement("div",{className:"dropdown"},c.a.createElement("div",{className:"collapse",id:"menu"},c.a.createElement("button",{type:"button",className:"btn btn-dark top",onClick:function(){return e.switch()}},"24h co 3 godziny"),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"btn btn-dark top",onClick:function(){return e.switchTomorrow()}},"48h co 6 godzin"),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"btn btn-dark top",onClick:e.switch3days},"96h co 12 godzin")))),e.dispInfo?null:c.a.createElement("div",{className:"alert alert-primary alert"},"Wybierz jedn\u0105 z opcji z menu"))}),p=a(7),h=function(e){return c.a.createElement("div",{className:"single-forecast"},c.a.createElement("h4",null,e.time),c.a.createElement("p",null,c.a.createElement("b",null,e.description)),c.a.createElement("div",{className:"forecast-info"},c.a.createElement("p",{className:"temperature"},e.temp,"\xb0C"),c.a.createElement("p",{className:"pressure"},e.press," hPa"),c.a.createElement("p",null,"Wiatr: ",e.wind," m/s"),c.a.createElement("p",null,"Wilgotno\u015b\u0107: ",e.humidity,"%")))},f=function(e){var t=[e.forecast][0].map(function(e){return c.a.createElement(h,{key:e.time,temp:e.temp,time:e.time,feelsTemp:e.feelsTemp,press:e.press,humidity:e.humidity,wind:e.wind,description:e.description})}),a=t.slice(0,3),n=t.slice(3,6),s=t.slice(6,9);return c.a.createElement("div",{className:"forecast-header"},c.a.createElement("div",{id:"carouselForecast",className:"carousel slide","data-ride":"carousel"},c.a.createElement("div",{className:"carousel-inner"},c.a.createElement("div",{className:"carousel-item active"},a),c.a.createElement("div",{className:"carousel-item"},n),c.a.createElement("div",{className:"carousel-item"},s)),c.a.createElement("a",{className:"carousel-control-prev",href:"#carouselForecast",role:"button","data-slide":"prev"},c.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Previous")),c.a.createElement("a",{className:"carousel-control-next",href:"#carouselForecast",role:"button","data-slide":"next"},c.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),c.a.createElement("span",{className:"sr-only"},"Next"))),c.a.createElement("button",{className:"btn btn-secondary hide",onClick:e.hide},"Ukryj"))},g=function(e){var t=(e.sunset-e.sunrise)/3600,a=Math.floor((e.sunset-e.sunrise)/3600),n=Math.floor(60*(t-a)),s=(new Date).toLocaleDateString(),r=new Date(1e3*e.sunrise).toLocaleTimeString(),o=new Date(1e3*e.sunset).toLocaleTimeString();return c.a.createElement("div",{className:"info"},c.a.createElement("h1",null,e.city),c.a.createElement("div",{className:"citySelect"},c.a.createElement("select",{className:"form-control",onChange:e.citySelector,onClick:e.changeInfo},c.a.createElement("option",null,"Krak\xf3w"),c.a.createElement("option",null,"Warszawa"),c.a.createElement("option",null,"Jas\u0142o"),c.a.createElement("option",null,"Rzesz\xf3w"),c.a.createElement("option",null,"Gda\u0144sk"),c.a.createElement("option",null,"Pozna\u0144"),c.a.createElement("option",null,"Wroc\u0142aw"),c.a.createElement("option",null,"Lublin")),c.a.createElement("br",null)),c.a.createElement("div",{className:"basicInfo"},c.a.createElement("p",{className:"basicInfo__day"},e.day),c.a.createElement("p",{className:"basicInfo__clock"}," ",e.hour),c.a.createElement("p",null,s),c.a.createElement("p",null,"Wsch\xf3d s\u0142o\u0144ca: ",r),c.a.createElement("p",null,"Zach\xf3d s\u0142o\u0144ca: ",o),c.a.createElement("p",null,"D\u0142ugo\u015b\u0107 dnia: ",a," godzin i ",n," minut.")))},y=a(8),E=a.n(y),N="efa2ef11f117f7485b2fca8e87a3a2f5",v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={data:new Date,hour:null,day:null,displayForecast:!1,sunrise:0,sunset:0,toggleMenu:!1,city:"Krak\xf3w",forecast:null,forecastNum:0},a.onClickToggle=function(){a.setState({toggleMenu:!a.state.toggleMenu})},a.getBasicInfo=function(){var e="https://api.openweathermap.org/data/2.5/weather?q=".concat(a.state.city,"&APPID=").concat(N,"&units=metric&lang=pl");fetch(e).then(function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119")}).then(function(e){return e.json()}).then(function(e){a.setState({sunrise:e.sys.sunrise,sunset:e.sys.sunset})}).catch(function(e){console.log(e)})},a.getWeather=function(){var e="https://api.openweathermap.org/data/2.5/forecast?q=".concat(a.state.city,",PL&appid=").concat(N,"&units=metric&lang=pl");fetch(e).then(function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119 pobra\u0107 danych!")}).then(function(e){return e.json()}).then(function(e){var t=e.list.slice(0,a.state.forecastNum),n=[];9===t.length?n=t:17===t.length?n=t.filter(function(e,t){return t%2===0}):33===t.length&&(n=t.filter(function(e,t){return t%4===0}));var c=n.map(function(e){return{time:e.dt_txt,temp:e.main.temp,feelsTemp:e.main.feels_like,press:e.main.pressure,humidity:e.main.humidity,wind:e.wind.speed,description:e.weather[0].description}});a.setState({forecast:c})}).catch(function(e){console.log(e)})},a.display96hForecast=function(){a.getWeather(),a.setState({displayForecast:!0,displayToday:!1,displayTomorrow:!1,forecastNum:33})},a.display48hForecast=function(){a.getWeather(),a.setState({displayForecast:!0,forecastNum:17})},a.display24hForecast=function(){a.getWeather(),a.setState({displayForecast:!0,forecastNum:9})},a.getCurrentTime=function(){a.setState({hour:(new Date).toLocaleTimeString()})},a.getCurrentDay=function(){var e=a.state.data.getDay();a.setState({day:["Niedziela","Poniedzialek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"][e]})},a.citySelector=function(e){a.setState({city:e.target.value})},a.onChangeInfo=function(){a.getBasicInfo(),a.getWeather()},a.onClickHide=function(){a.setState({displayForecast:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentDay(),Object(p.setInterval)(this.getCurrentTime,1e3),this.getWeather(),this.getBasicInfo()}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement("video",{autoPlay:"autoplay",loop:"loop",muted:!0,className:"video"},c.a.createElement("source",{src:E.a,type:"video/mp4"})),c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header"},c.a.createElement("p",null,"Prognoza pogody")),c.a.createElement(g,{changeInfo:this.onChangeInfo,citySelector:this.citySelector,city:this.state.city,day:this.state.day,hour:this.state.hour,sunset:this.state.sunset,sunrise:this.state.sunrise}),c.a.createElement(d,{switch:this.display24hForecast,switchTomorrow:this.display48hForecast,switch3days:this.display96hForecast,toggle:this.state.toggleMenu,onToggle:this.onClickToggle,dispInfo:this.state.displayForecast}),this.state.displayForecast?c.a.createElement(f,{forecast:this.state.forecast,city:this.state.city,hide:this.onClickHide}):null))}}]),t}(c.a.Component);r.a.render(c.a.createElement(v,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/cinegraph.a06942b9.mp4"}},[[11,1,2]]]);
//# sourceMappingURL=main.9b09ab9e.chunk.js.map