(window["webpackJsonppogoda-app"]=window["webpackJsonppogoda-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},16:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),c=a.n(s),o=(a(15),a(4)),l=a(5),i=a(8),u=a(9),m=(a(16),function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"menu"},r.a.createElement("div",{"data-toggle":"collapse","data-target":"#menu",className:"toggleMenu",onClick:function(){return e.onToggle()}},r.a.createElement("p",null,e.toggle?"Ukryj menu":"Poka\u017c opcje prognozy")),r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{className:"collapse",id:"menu"},r.a.createElement("button",{type:"button",className:"btn btn-dark top",onClick:function(){return e.switch()}},"24h co 3 godziny"),r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-dark top",onClick:function(){return e.switchTomorrow()}},"48h co 6 godzin"),r.a.createElement("br",null),r.a.createElement("button",{type:"button",className:"btn btn-dark top",onClick:e.switch3days},"96h co 12 godzin")))),e.dispInfo?null:r.a.createElement("div",{className:"alert alert-primary alert"},"Wybierz jedn\u0105 z opcji z menu"))}),d=a(6),p=function(e){return r.a.createElement("div",{className:"single-forecast"},r.a.createElement("h4",null,e.time),r.a.createElement("p",null,r.a.createElement("b",null,e.description)),r.a.createElement("div",{className:"forecast-info"},r.a.createElement("p",{className:"temperature"},e.temp,"\xb0C"),r.a.createElement("p",{className:"pressure"},e.press," hPa"),r.a.createElement("p",null,"Wiatr: ",e.wind," m/s"),r.a.createElement("p",null,"Wilgotno\u015b\u0107: ",e.humidity,"%")))},h=function(e){var t=[e.forecast][0].map((function(e){return r.a.createElement(p,{key:e.time,temp:e.temp,time:e.time,feelsTemp:e.feelsTemp,press:e.press,humidity:e.humidity,wind:e.wind,description:e.description})})),a=t.slice(0,3),n=t.slice(3,6),s=t.slice(6,9);return r.a.createElement("div",{className:"forecast-header"},r.a.createElement("div",{id:"carouselForecast",className:"carousel slide","data-ride":"carousel"},r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active",id:"first"},a),r.a.createElement("div",{className:"carousel-item"},n),r.a.createElement("div",{className:"carousel-item"},s)),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselForecast",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselForecast",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next"))),r.a.createElement("button",{className:"btn btn-secondary hide",onClick:e.hide},"Ukryj"))},f=function(e){var t=(e.sunset-e.sunrise)/3600,a=Math.floor((e.sunset-e.sunrise)/3600),n=Math.floor(60*(t-a)),s=(new Date).toLocaleDateString(),c=new Date(1e3*e.sunrise).toLocaleTimeString(),o=new Date(1e3*e.sunset).toLocaleTimeString();return r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,e.city),r.a.createElement("div",{className:"citySelect"},r.a.createElement("select",{className:"form-control",onChange:e.citySelector,onClick:e.changeInfo},r.a.createElement("option",null,"Krak\xf3w"),r.a.createElement("option",null,"Warszawa"),r.a.createElement("option",null,"Jas\u0142o"),r.a.createElement("option",null,"Rzesz\xf3w"),r.a.createElement("option",null,"Gda\u0144sk"),r.a.createElement("option",null,"Pozna\u0144"),r.a.createElement("option",null,"Wroc\u0142aw"),r.a.createElement("option",null,"Lublin")),r.a.createElement("br",null)),r.a.createElement("div",{className:"basicInfo"},r.a.createElement("p",{className:"basicInfo__day"},e.day),r.a.createElement("p",{className:"basicInfo__clock"}," ",e.hour),r.a.createElement("p",null,s),r.a.createElement("p",null,"Wsch\xf3d s\u0142o\u0144ca: ",c),r.a.createElement("p",null,"Zach\xf3d s\u0142o\u0144ca: ",o),r.a.createElement("p",null,"D\u0142ugo\u015b\u0107 dnia: ",a," godzin i ",n," minut.")))},g=a(7),y=a.n(g),E="efa2ef11f117f7485b2fca8e87a3a2f5",N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={data:new Date,hour:null,day:null,displayForecast:!1,sunrise:0,sunset:0,toggleMenu:!1,city:"Krak\xf3w",forecast:null,forecastNum:0},e.onClickToggle=function(){e.setState({toggleMenu:!e.state.toggleMenu})},e.getBasicInfo=function(){var t="https://api.openweathermap.org/data/2.5/weather?q=".concat(e.state.city,"&APPID=").concat(E,"&units=metric&lang=pl");fetch(t).then((function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119")})).then((function(e){return e.json()})).then((function(t){e.setState({sunrise:t.sys.sunrise,sunset:t.sys.sunset})})).catch((function(e){console.log(e)}))},e.getWeather=function(){var t="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e.state.city,",PL&appid=").concat(E,"&units=metric&lang=pl");fetch(t).then((function(e){if(e.ok)return e;throw Error("Nie uda\u0142o si\u0119 pobra\u0107 danych!")})).then((function(e){return e.json()})).then((function(t){var a=t.list.slice(0,e.state.forecastNum),n=[];9===a.length?n=a:17===a.length?n=a.filter((function(e,t){return t%2===0})):33===a.length&&(n=a.filter((function(e,t){return t%4===0})));var r=n.map((function(e){return{time:e.dt_txt,temp:e.main.temp,feelsTemp:e.main.feels_like,press:e.main.pressure,humidity:e.main.humidity,wind:e.wind.speed,description:e.weather[0].description}}));e.setState({forecast:r})})).catch((function(e){console.log(e)}))},e.display96hForecast=function(){e.getWeather(),e.setState({displayForecast:!0,displayToday:!1,displayTomorrow:!1,forecastNum:33})},e.display48hForecast=function(){e.getWeather(),e.setState({displayForecast:!0,forecastNum:17})},e.display24hForecast=function(){e.getWeather(),e.setState({displayForecast:!0,forecastNum:9})},e.getCurrentTime=function(){e.setState({hour:(new Date).toLocaleTimeString()})},e.getCurrentDay=function(){var t=e.state.data.getDay();e.setState({day:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015aroda","Czwartek","Pi\u0105tek","Sobota"][t]})},e.citySelector=function(t){e.setState({city:t.target.value})},e.onChangeInfo=function(){e.getBasicInfo(),e.getWeather()},e.onClickHide=function(){e.setState({displayForecast:!1})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getCurrentDay(),Object(d.setInterval)(this.getCurrentTime,1e3),this.getWeather(),this.getBasicInfo()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("video",{autoPlay:"autoplay",loop:"loop",muted:!0,className:"video"},r.a.createElement("source",{src:y.a,type:"video/mp4"})),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement("p",null,"Prognoza pogody")),r.a.createElement(f,{changeInfo:this.onChangeInfo,citySelector:this.citySelector,city:this.state.city,day:this.state.day,hour:this.state.hour,sunset:this.state.sunset,sunrise:this.state.sunrise}),r.a.createElement(m,{switch:this.display24hForecast,switchTomorrow:this.display48hForecast,switch3days:this.display96hForecast,toggle:this.state.toggleMenu,onToggle:this.onClickToggle,dispInfo:this.state.displayForecast}),this.state.displayForecast?r.a.createElement(h,{forecast:this.state.forecast,city:this.state.city,hide:this.onClickHide}):null))}}]),a}(r.a.Component);c.a.render(r.a.createElement(N,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a.p+"static/media/cinegraph.a06942b9.mp4"}},[[10,1,2]]]);
//# sourceMappingURL=main.57de75f4.chunk.js.map